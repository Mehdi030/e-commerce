<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Warenkorb</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-white text-gray-900 dark:bg-black dark:text-white">
<div class="max-w-6xl mx-auto p-6">
    <h2 class="text-3xl font-bold text-red-600">ðŸ›’ Dein Warenkorb</h2>

    <table class="w-full mt-6 border border-gray-300 dark:border-gray-700">
        <thead class="bg-gray-100 dark:bg-gray-800">
        <tr>
            <th class="p-3">Bild</th>
            <th class="p-3">Produkt</th>
            <th class="p-3">Menge</th>
            <th class="p-3">Preis</th>
            <th class="p-3">Aktion</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="cartItem : ${cart.cartItems}" class="border-t border-gray-300 dark:border-gray-700">
            <td class="p-3">
                <img th:src="${cartItem.product.imageUrl}" alt="Produktbild" class="w-16 h-16 rounded">
            </td>
            <td class="p-3" th:text="${cartItem.product.name}"></td>
            <td class="p-3" th:text="${cartItem.quantity}"></td>
            <td class="p-3" th:text="${cartItem.product.price} + 'â‚¬'"></td>
            <td class="p-3">
                <form th:action="@{/cart/remove/{cartId}/{productId}(cartId=${cart.id}, productId=${cartItem.product.id})}" method="post">
                    <button class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-700">Entfernen</button>
                </form>
            </td>
        </tr>
        </tbody>
    </table>

    <h3 class="text-xl font-bold mt-4">Gesamtpreis: <span th:text="${cart.totalPrice} + 'â‚¬'"></span></h3>

    <form th:action="@{/cart/clear/{cartId}(cartId=${cart.id})}" method="post">
        <button class="mt-4 bg-gray-700 text-white px-4 py-2 rounded hover:bg-gray-900">ðŸ—‘ Warenkorb leeren</button>
    </form>

    <a href="/products" class="mt-4 inline-block text-red-600 hover:underline">ðŸ”™ ZurÃ¼ck zu den Produkten</a>
</div>
</body>
</html>
